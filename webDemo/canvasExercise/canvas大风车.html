<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>转换</title>
</head>
<style type="text/css">
*{
    margin: 0;
    padding: 0;
    background: #444;
}
#test{
    background: #fff;
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;
    right: 0;
    margin: auto;
}
</style>
<script type="text/javascript">
    window.onload = function(){
        

        var deg = 0;//度数
        var num1 = 0;
        var num2 = 0;//控制缩放
        var cas = document.getElementById("test");
        if(cas.getContext){
            var pen = cas.getContext("2d");
        }

        // pen.save();
        // pen.translate(200,200);
        // pen.beginPath();
        // pen.fillRect(-50,-50,100,100);
        // pen.restore();

        setInterval(function(){
            deg++;
            pen.clearRect(0,0,cas.width,cas.height);//清除画布
            
            pen.save();//压入样式栈
            pen.translate(200,200);//原点订到画布中心
            pen.rotate(deg*Math.PI/180);//旋转
            //num1递增到100在递减到0
            if(num1 == 100){
                num2 = -1
            }else if(num1 == 0){
                num2 = 1;
            }
            num1 += num2;
            pen.scale(num1/50,num1/50);//缩放
            
            pen.beginPath();//重画一条路径
            pen.fillRect(-50,-50,100,100);
            pen.restore();//弹出样式栈

        },1000/60)
    }
</script>
<body>
    <canvas id="test" width="400px" height="400px"></canvas>
</body>
</html>